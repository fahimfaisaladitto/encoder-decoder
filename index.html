<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Encoder & Decoder</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Custom Stylesheet -->
    <link rel="stylesheet" href="style.css">
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div class="main-card relative w-full max-w-md border rounded-2xl shadow-2xl p-8 fade-in">
        
        <!-- Controls: Dark Mode -->
        <div class="absolute top-5 right-5">
            <input type="checkbox" id="darkModeToggle" class="hidden"/>
            <label for="darkModeToggle" class="toggle-bg w-14 h-8 rounded-full flex items-center p-1 cursor-pointer transition-colors">
                <span class="toggle-ball w-6 h-6 rounded-full shadow-md transform transition-transform duration-300 ease-in-out" id="toggleBall">
                    <svg id="sunIcon" class="w-4 h-4 m-1 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
                    <svg id="moonIcon" class="w-4 h-4 m-1 text-sky-400 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
                </span>
            </label>
        </div>

        <!-- Icon and Header Text -->
        <div class="text-center mb-6">
             <div class="inline-block p-3 bg-black/5 rounded-full mb-4">
                 <svg class="w-10 h-10 accent-text" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                     <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z" />
                 </svg>
            </div>
            <h1 class="text-2xl font-bold">Web Encoder & Decoder</h1>
            <p class="mt-1 text-secondary">Convert text and images.</p>
        </div>
        
        <!-- Mode Slider -->
        <div class="mode-slider mb-6">
            <div class="slider-indicator" id="sliderIndicator"></div>
            <div class="mode-slider-button active" id="encodeModeBtn">Encode</div>
            <div class="mode-slider-button" id="decodeModeBtn">Decode</div>
        </div>
        
        <div class="content-area space-y-4">
            <div>
                <label class="block mb-2 text-sm font-medium text-secondary">Conversion Type</label>
                <select id="encodingType" class="input-field w-full rounded-lg px-3 py-2 border-transparent focus:border-blue-500 focus:ring-0"></select>
            </div>

            <div id="textInputContainer" class="space-y-2">
                <label for="inputText" class="text-sm font-medium text-secondary">Input</label>
                <textarea id="inputText" rows="4" class="input-field w-full p-3 rounded-lg border-transparent focus:border-blue-500 focus:ring-0 resize-y" placeholder="Type or paste your text here..."></textarea>
            </div>

            <div id="imageUploadContainer" class="hidden">
                 <div id="fileDropArea" class="file-drop-area">
                     <input type="file" id="imageInput" accept="image/*" class="hidden"/>
                     <svg class="w-8 h-8 mx-auto mb-2 text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-4-4V6a4 4 0 014-4h10a4 4 0 014 4v6a4 4 0 01-4 4H7z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 16v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2"></path></svg>
                     <p id="fileDropText" class="text-secondary text-sm">Drag & drop an image, or <span class="font-semibold accent-text">browse</span></p>
                 </div>
            </div>
            
            <div id="actionButtonContainer">
                <button id="actionBtn" class="w-full text-white font-bold py-3 px-4 rounded-lg transition-transform transform hover:scale-105 accent-bg">Encode</button>
            </div>
            
            <div id="textOutputContainer" class="space-y-2">
                <label for="outputText" class="text-sm font-medium text-secondary">Output</label>
                <textarea id="outputText" rows="4" readonly class="input-field w-full p-3 rounded-lg border-transparent focus:border-blue-500 focus:ring-0 resize-y cursor-not-allowed" placeholder="Result will appear here..."></textarea>
            </div>

            <div id="imageOutputContainer" class="hidden space-y-4">
                <label class="block text-sm font-medium text-secondary">Output Image</label>
                <div class="p-4 result-box rounded-lg inline-block max-w-full overflow-auto">
                    <img id="decodedImage" class="max-w-full h-auto mx-auto" alt="Decoded Image">
                </div>
                <button id="downloadBtn" class="w-full text-white font-bold py-3 px-4 rounded-lg transition-transform transform hover:scale-105 accent-bg">Download Image</button>
            </div>

             <div id="controlsContainer" class="flex items-center gap-2">
                 <p id="statusMessage" class="flex-grow text-left text-red-500 font-medium h-5 text-sm"></p>
                 <button id="copyBtn" title="Copy to Clipboard" class="p-3 rounded-lg transition-transform transform hover:scale-110 input-field">
                     <svg class="w-5 h-5 text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>
                 </button>
             </div>
        </div>

        <button id="clearBtn" class="mt-6 w-full font-bold py-3 px-4 rounded-lg transition-transform transform hover:scale-105 input-field text-secondary">Clear All</button>
    </div>

    <!-- Custom JavaScript -->
    <script src="script.js"></script>
</body>
</html>
